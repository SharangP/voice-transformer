function [ y ] = ispectrogram(S, nfft, overlap)
% ispectrogram calculates the inverse spectrogram of 1024 pt xform
% overlap = 128


% make sure this only happens for real signals (check size of S)
X = [S;flipud(conj(S(2:(size(S,1)-1),:)))];

Y = real(ifft(X));
y1 = [Y(1:128,:) Y(end-127:end)'];
y2 = [Y(1:128)' Y(128:255,:)];
y = mean([reshape(y1,1,[]) ; reshape(y2,1,[])],1)';

end

